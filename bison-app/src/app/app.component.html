<div class="{{ theme }}" [class.example-is-mobile]="mobileQuery.matches">

  <app-login *ngIf="!storage.isAuthenticated()"></app-login>

  <div class="app-container" *ngIf="storage.isAuthenticated()">
    <mat-sidenav-container class="sidenav-container" [style.marginTop.px]="mobileQuery.matches ? 0 : 0">

      <mat-sidenav #snav [(opened)]="opened" [mode]="mobileQuery.matches ? 'over' : 'side'" [fixedInViewport]="mobileQuery.matches" fixedTopGap="0">
        <mat-nav-list>
          <!-- items de menu -->
          <mat-list-item class="menu-item mb-3" routerLink="." *ngFor="let menu of menuItems">
            <div class="text-center">
              <mat-icon matListIcon>{{menu.icono}}</mat-icon>
              <h5 matLine>{{ menu.titulo }}</h5>
            </div>
          </mat-list-item>
        </mat-nav-list>
      </mat-sidenav>
  
      <mat-sidenav-content>
  
        <!-- barra superior -->
        <mat-toolbar>
          <button mat-icon-button class="example-icon" (click)="opened = !opened" *ngIf="mobileQuery.matches">
            <mat-icon>menu</mat-icon>
          </button>
          <mat-nav-list dense class="d-flex pt-0" *ngIf="!mobileQuery.matches">
            <mat-list-item routerLink="." *ngFor="let menu of menuItems">
              <mat-icon matListIcon>{{menu.icono}}</mat-icon>
              <div class="text">{{ menu.titulo }}</div>
            </mat-list-item>
          </mat-nav-list>
          <span class="example-spacer"></span>
          <button mat-button [matMenuTriggerFor]="menu">
            <mat-icon class="me-2">account_circle</mat-icon>
            <!-- <span>Mi cuenta</span> -->
            <span>
              {{ storage.getCurrentSession().nick }}
            </span>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item>
              <mat-icon>settings</mat-icon>
              <span>Opciones</span>
            </button>
            <button mat-menu-item (click)="storage.logout()">
              <mat-icon>logout</mat-icon>
              <span>Cerrar sesi√≥n</span>
            </button>
          </mat-menu>
          <button mat-icon-button class="" (click)="toggleTheme()">
            <mat-icon *ngIf="theme == 'dark-theme'">brightness_low</mat-icon>
            <mat-icon *ngIf="theme == 'light-theme'">dark_mode</mat-icon>
          </button>
        </mat-toolbar>
  
        <!-- contenido -->
        <hello-bisonteca></hello-bisonteca>
        
      </mat-sidenav-content>
  
    </mat-sidenav-container>
  </div>

</div>

<router-outlet></router-outlet>
